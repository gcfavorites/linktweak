(function(){var i=true,j=null,n=false,p,q=this;function r(){}
function s(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if(b=="[object Window]")return"object";if(b=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(b=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}function v(a){return s(a)=="array"}function aa(a){var c=s(a);return c=="array"||c=="object"&&typeof a.length=="number"}function w(a){return typeof a=="string"}function x(a){return s(a)=="function"}function ba(a){a=s(a);return a=="object"||a=="array"||a=="function"}function y(a){return a[ca]||(a[ca]=++da)}var ca="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),da=0;
function z(a,c){function b(){}b.prototype=c.prototype;a.n=c.prototype;a.prototype=new b};function ea(){}
function fa(a,c,b){switch(typeof c){case "string":ga(c,b);break;case "number":b.push(isFinite(c)&&!isNaN(c)?c:"null");break;case "boolean":b.push(c);break;case "undefined":b.push("null");break;case "object":if(c==j){b.push("null");break}if(v(c)){var d=c.length;b.push("[");for(var f="",e=0;e<d;e++){b.push(f);fa(a,c[e],b);f=","}b.push("]");break}b.push("{");d="";for(f in c)if(Object.prototype.hasOwnProperty.call(c,f)){e=c[f];if(typeof e!="function"){b.push(d);ga(f,b);b.push(":");fa(a,e,b);d=","}}b.push("}");
break;case "function":break;default:throw Error("Unknown type: "+typeof c);}}var ha={'"':'\\"',"\\":"\\\\","/":"\\/","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u000b":"\\u000b"},ia=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;function ga(a,c){c.push('"',a.replace(ia,function(b){if(b in ha)return ha[b];var d=b.charCodeAt(0),f="\\u";if(d<16)f+="000";else if(d<256)f+="00";else if(d<4096)f+="0";return ha[b]=f+d.toString(16)}),'"')};function ja(a){if(!ka.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(la,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(ma,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(na,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(oa,"&quot;");return a}var la=/&/g,ma=/</g,na=/>/g,oa=/\"/g,ka=/[&<>\"]/;
function pa(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(d.length,f.length),g=0;b==0&&g<e;g++){var h=d[g]||"",k=f[g]||"",m=RegExp("(\\d*)(\\D*)","g"),u=RegExp("(\\d*)(\\D*)","g");do{var o=m.exec(h)||["","",""],l=u.exec(k)||["","",""];if(o[0].length==0&&l[0].length==0)break;b=qa(o[1].length==0?0:parseInt(o[1],10),l[1].length==0?0:parseInt(l[1],10))||qa(o[2].length==0,l[2].length==0)||qa(o[2],l[2])}while(b==
0)}return b}function qa(a,c){if(a<c)return-1;else if(a>c)return 1;return 0};var A=Array.prototype,ra=A.indexOf?function(a,c,b){return A.indexOf.call(a,c,b)}:function(a,c,b){b=b==j?0:b<0?Math.max(0,a.length+b):b;if(w(a)){if(!w(c)||c.length!=1)return-1;return a.indexOf(c,b)}for(;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1},sa=A.forEach?function(a,c,b){A.forEach.call(a,c,b)}:function(a,c,b){for(var d=a.length,f=w(a)?a.split(""):a,e=0;e<d;e++)e in f&&c.call(b,f[e],e,a)};function ta(){return A.concat.apply(A,arguments)}
function ua(a){if(v(a))return ta(a);else{for(var c=[],b=0,d=a.length;b<d;b++)c[b]=a[b];return c}}function va(a,c,b){return arguments.length<=2?A.slice.call(a,c):A.slice.call(a,c,b)};function wa(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function xa(a){var c=wa(a),b;b=va(arguments,1);for(var d=0,f=0;f<b.length;f++)if(!(ra(c,b[f])>=0)){c.push(b[f]);d++}b=d==b.length;a.className=c.join(" ");return b};function ya(a,c){for(var b in a)c.call(void 0,a[b],b,a)}var za=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function Aa(a){for(var c,b,d=1;d<arguments.length;d++){b=arguments[d];for(c in b)a[c]=b[c];for(var f=0;f<za.length;f++){c=za[f];if(Object.prototype.hasOwnProperty.call(b,c))a[c]=b[c]}}};var B,Ba,C,Ca;function Da(){return q.navigator?q.navigator.userAgent:j}Ca=C=Ba=B=n;var D;if(D=Da()){var Ea=q.navigator;B=D.indexOf("Opera")==0;Ba=!B&&D.indexOf("MSIE")!=-1;C=!B&&D.indexOf("WebKit")!=-1;Ca=!B&&!C&&Ea.product=="Gecko"}var E=Ba,F=Ca,Fa=C,Ga=q.navigator,Ha=(Ga&&Ga.platform||"").indexOf("Mac")!=-1,Ia;
a:{var G="",H;if(B&&q.opera){var Ja=q.opera.version;G=typeof Ja=="function"?Ja():Ja}else{if(F)H=/rv\:([^\);]+)(\)|;)/;else if(E)H=/MSIE\s+([^\);]+)(\)|;)/;else if(Fa)H=/WebKit\/(\S+)/;if(H){var Ka=H.exec(Da());G=Ka?Ka[1]:""}}if(E){var La,Ma=q.document;La=Ma?Ma.documentMode:undefined;if(La>parseFloat(G)){Ia=String(La);break a}}Ia=G}var Na={};function I(a){return Na[a]||(Na[a]=pa(Ia,a)>=0)};var Oa=!E||I("9");!F&&!E||E&&I("9")||F&&I("1.9.1");E&&I("9");function J(a){return w(a)?document.getElementById(a):a}function Pa(a,c){ya(c,function(b,d){if(d=="style")a.style.cssText=b;else if(d=="class")a.className=b;else if(d=="for")a.htmlFor=b;else if(d in Qa)a.setAttribute(Qa[d],b);else a[d]=b})}var Qa={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function K(){var a=arguments,c=a[0],b=a[1];if(!Oa&&b&&(b.name||b.type)){c=["<",c];b.name&&c.push(' name="',ja(b.name),'"');if(b.type){c.push(' type="',ja(b.type),'"');var d={};Aa(d,b);b=d;delete b.type}c.push(">");c=c.join("")}c=document.createElement(c);if(b)if(w(b))c.className=b;else v(b)?xa.apply(j,[c].concat(b)):Pa(c,b);a.length>2&&Ra(document,c,a);return c}
function Ra(a,c,b){function d(h){if(h)c.appendChild(w(h)?a.createTextNode(h):h)}for(var f=2;f<b.length;f++){var e=b[f];if(aa(e)&&!(ba(e)&&e.nodeType>0)){var g;a:{if(e&&typeof e.length=="number")if(ba(e)){g=typeof e.item=="function"||typeof e.item=="string";break a}else if(x(e)){g=typeof e.item=="function";break a}g=n}sa(g?ua(e):e,d)}else d(e)}}function Sa(a,c,b){var d=c?c.toUpperCase():j;return Ta(a,function(f){return(!d||f.nodeName==d)&&(!b||ra(wa(f),b)>=0)})}
function Ta(a,c){for(var b=0;a;){if(c(a))return a;a=a.parentNode;b++}return j};var Ua;!E||I("9");var Va=E&&!I("8");function L(){if(Wa)Xa[y(this)]=this}var Wa=n,Xa={};L.prototype.s=n;L.prototype.j=function(){if(!this.s){this.s=i;this.d();if(Wa){var a=y(this);if(!Xa.hasOwnProperty(a))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete Xa[a]}}};L.prototype.d=function(){};function M(a,c){L.call(this);this.type=a;this.currentTarget=this.target=c}z(M,L);M.prototype.d=function(){delete this.type;delete this.target;delete this.currentTarget};M.prototype.p=n;M.prototype.A=i;M.prototype.preventDefault=function(){this.A=n};var Ya=new Function("a","return a");function N(a,c){a&&this.k(a,c)}z(N,M);p=N.prototype;p.target=j;p.relatedTarget=j;p.offsetX=0;p.offsetY=0;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.button=0;p.keyCode=0;p.charCode=0;p.ctrlKey=n;p.altKey=n;p.shiftKey=n;p.metaKey=n;p.K=n;p.o=j;
p.k=function(a,c){var b=this.type=a.type;M.call(this,b);this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(F)try{Ya(d.nodeName)}catch(f){d=j}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.K=Ha?a.metaKey:a.ctrlKey;this.state=a.state;this.o=a;delete this.A;delete this.p};
p.preventDefault=function(){N.n.preventDefault.call(this);var a=this.o;if(a.preventDefault)a.preventDefault();else{a.returnValue=n;if(Va)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(c){}}};p.d=function(){N.n.d.call(this);this.relatedTarget=this.currentTarget=this.target=this.o=j};function Za(){}var $a=0;p=Za.prototype;p.key=0;p.g=n;p.q=n;p.k=function(a,c,b,d,f,e){if(x(a))this.u=i;else if(a&&a.handleEvent&&x(a.handleEvent))this.u=n;else throw Error("Invalid listener argument");this.l=a;this.z=c;this.src=b;this.type=d;this.capture=!!f;this.t=e;this.q=n;this.key=++$a;this.g=n};p.handleEvent=function(a){if(this.u)return this.l.call(this.t||this.src,a);return this.l.handleEvent.call(this.l,a)};var ab;var bb=(ab="ScriptEngine"in q&&q.ScriptEngine()=="JScript")?q.ScriptEngineMajorVersion()+"."+q.ScriptEngineMinorVersion()+"."+q.ScriptEngineBuildVersion():"0";function O(a,c){L.call(this);this.v=c;this.e=[];if(a>this.v)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.e.push(this.a?this.a():{})}z(O,L);O.prototype.a=j;O.prototype.r=j;function P(a){if(a.e.length)return a.e.pop();return a.a?a.a():{}}function Q(a,c){a.e.length<a.v?a.e.push(c):cb(a,c)}function cb(a,c){if(a.r)a.r(c);else if(ba(c))if(x(c.j))c.j();else for(var b in c)delete c[b]}
O.prototype.d=function(){O.n.d.call(this);for(var a=this.e;a.length;)cb(this,a.pop());delete this.e};var R,S,T,U,db,eb,fb,gb,hb,ib,jb;
(function(){function a(){return{c:0,f:0}}function c(){return[]}function b(){function l(t){return g.call(l.src,l.key,t)}return l}function d(){return new Za}function f(){return new N}var e=ab&&!(pa(bb,"5.7")>=0),g;eb=function(l){g=l};if(e){R=function(){return P(h)};S=function(l){Q(h,l)};T=function(){return P(k)};U=function(l){Q(k,l)};db=function(){return P(m)};fb=function(){Q(m,b())};gb=function(){return P(u)};hb=function(l){Q(u,l)};ib=function(){return P(o)};jb=function(l){Q(o,l)};var h=new O(0,600);
h.a=a;var k=new O(0,600);k.a=c;var m=new O(0,600);m.a=b;var u=new O(0,600);u.a=d;var o=new O(0,600);o.a=f}else{R=a;S=r;T=c;U=r;db=b;fb=r;gb=d;hb=r;ib=f;jb=r}})();var V={},W={},X={},kb={};
function lb(a,c,b,d,f){if(c)if(v(c)){for(var e=0;e<c.length;e++)lb(a,c[e],b,d,f);return j}else{d=!!d;var g=W;c in g||(g[c]=R());g=g[c];if(!(d in g)){g[d]=R();g.c++}g=g[d];var h=y(a),k;g.f++;if(g[h]){k=g[h];for(e=0;e<k.length;e++){g=k[e];if(g.l==b&&g.t==f){if(g.g)break;return k[e].key}}}else{k=g[h]=T();g.c++}e=db();e.src=a;g=gb();g.k(b,e,a,c,d,f);b=g.key;e.key=b;k.push(g);V[b]=g;X[h]||(X[h]=T());X[h].push(g);if(a.addEventListener){if(a==q||!a.B)a.addEventListener(c,e,d)}else a.attachEvent(mb(c),e);
return b}else throw Error("Invalid event type");}function nb(a){if(V[a]){var c=V[a];if(!c.g){var b=c.src,d=c.type,f=c.z,e=c.capture;if(b.removeEventListener){if(b==q||!b.B)b.removeEventListener(d,f,e)}else b.detachEvent&&b.detachEvent(mb(d),f);b=y(b);f=W[d][e][b];if(X[b]){var g=X[b],h=ra(g,c);h>=0&&A.splice.call(g,h,1);g.length==0&&delete X[b]}c.g=i;f.w=i;ob(d,e,b,f);delete V[a]}}}
function ob(a,c,b,d){if(!d.m)if(d.w){for(var f=0,e=0;f<d.length;f++)if(d[f].g){var g=d[f].z;g.src=j;fb(g);hb(d[f])}else{if(f!=e)d[e]=d[f];e++}d.length=e;d.w=n;if(e==0){U(d);delete W[a][c][b];W[a][c].c--;if(W[a][c].c==0){S(W[a][c]);delete W[a][c];W[a].c--}if(W[a].c==0){S(W[a]);delete W[a]}}}}function mb(a){if(a in kb)return kb[a];return kb[a]="on"+a}
function pb(a,c,b,d,f){var e=1;c=y(c);if(a[c]){a.f--;a=a[c];if(a.m)a.m++;else a.m=1;try{for(var g=a.length,h=0;h<g;h++){var k=a[h];if(k&&!k.g)e&=qb(k,f)!==n}}finally{a.m--;ob(b,d,c,a)}}return Boolean(e)}function qb(a,c){var b=a.handleEvent(c);a.q&&nb(a.key);return b}
eb(function(a,c){if(!V[a])return i;var b=V[a],d=b.type,f=W;if(!(d in f))return i;f=f[d];var e,g;if(Ua===undefined)Ua=E&&!q.addEventListener;if(Ua){var h;if(!(h=c))a:{h="window.event".split(".");for(var k=q;e=h.shift();)if(k[e]!=j)k=k[e];else{h=j;break a}h=k}e=h;h=i in f;k=n in f;if(h){if(e.keyCode<0||e.returnValue!=undefined)return i;a:{var m=n;if(e.keyCode==0)try{e.keyCode=-1;break a}catch(u){m=i}if(m||e.returnValue==undefined)e.returnValue=i}}m=ib();m.k(e,this);e=i;try{if(h){for(var o=T(),l=m.currentTarget;l;l=
l.parentNode)o.push(l);g=f[i];g.f=g.c;for(var t=o.length-1;!m.p&&t>=0&&g.f;t--){m.currentTarget=o[t];e&=pb(g,o[t],d,i,m)}if(k){g=f[n];g.f=g.c;for(t=0;!m.p&&t<o.length&&g.f;t++){m.currentTarget=o[t];e&=pb(g,o[t],d,n,m)}}}else e=qb(b,m)}finally{if(o){o.length=0;U(o)}m.j();jb(m)}return e}d=new N(c,this);try{e=qb(b,d)}finally{d.j()}return e});function Y(a){L.call(this);this.D=a}z(Y,L);var rb=new O(0,100),sb=[];function Z(a,c,b,d){if(!v(b)){sb[0]=b;b=sb}for(var f=0;f<b.length;f++){var e=a,g=lb(c,b[f],d||a,n,a.D||a);if(e.b)e.b[g]=i;else if(e.i){e.b=P(rb);e.b[e.i]=i;e.i=j;e.b[g]=i}else e.i=g}return a}Y.prototype.d=function(){Y.n.d.call(this);if(this.b){for(var a in this.b){nb(a);delete this.b[a]}Q(rb,this.b);this.b=j}else this.i&&nb(this.i)};Y.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function tb(){try{var a;a:{var c=String(localStorage.rewriterules||"[]"),b;b=/^\s*$/.test(c)?n:/^[\],:{}\s\u2028\u2029]*$/.test(c.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""));if(b)try{a=eval("("+c+")");break a}catch(d){}throw Error("Invalid JSON string: "+c);}this.h=a}catch(f){}if(!aa(this.h))this.h=[];a=J("rules");c=J("add-row");b=J("save");var e=
J("reset");this.C=new Y(this);Z(Z(Z(Z(Z(this.C,a,"click",this.J),a,"change",this.F),c,"click",this.G),b,"click",this.I),e,"click",this.H);ub(this)}p=tb.prototype;p.J=function(a){if(Sa(a.target,"a","delete"))if(a=Sa(a.target,"tr")){a&&a.parentNode&&a.parentNode.removeChild(a);$(i)}};p.F=function(){$(i)};p.G=function(a){a.preventDefault();vb()};
p.I=function(){for(var a=J("rules"),c=[],b=0,d=a.childNodes.length;b<d;b++){var f=a.childNodes[b];if(f.nodeName.toUpperCase()=="TR"){for(var e={},g=n,h=0,k=f.childNodes.length;h<k;++h){var m=f.childNodes[h].className,u=f.childNodes[h].getElementsByTagName("input")[0];if(u&&m)if(e[m]=u.value)g=i}g&&c.push(e)}}a=localStorage;b=[];fa(new ea,c,b);a.rewriterules=b.join("");this.h=c;$(n)};p.H=function(){ub(this)};
function vb(a){a=a||{};for(var c=["cond","from","to"],b=document.createElement("tr"),d=0,f=c.length;d<f;++d)b.appendChild(K("td",c[d],K("input",{type:"text",value:a[c[d]]||""})));a=K("a","delete");a.innerHTML="&times;";b.appendChild(K("td","button",a));J("rules").appendChild(b)}function ub(a){for(var c=J("rules"),b;b=c.firstChild;)c.removeChild(b);c=0;for(b=a.h.length;c<b;++c)vb(a.h[c]);vb();$(n)}function $(a){a=a?"":"disabled";J("save").disabled=a;J("reset").disabled=a}new tb;})();
